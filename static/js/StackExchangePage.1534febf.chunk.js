"use strict";(self.webpackChunkiambee=self.webpackChunkiambee||[]).push([[321],{714:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n=r(144),i=r(671),s=r(136),a=r(104),o=r(791);var c,l=r(679),u=r(161),d=r(996),f=r(885);function g(e,t){var r=e(t);return{data:r.data,isLoading:r.isLoading,isFetching:r.isFetching,isSuccess:r.isSuccess,isError:r.isError,error:r.error,refetch:r.refetch}}function m(e){var t=e(),r=(0,f.Z)(t,2),n=r[0],i=r[1],s=i.isLoading,a=i.isError;return{mutationAction:n,isLoading:s,isSuccess:i.isSuccess,isError:a,isUninitialized:i.isUninitialized}}var h,x=(0,u.t)()(c=(0,n.Z)((function e(){(0,i.Z)(this,e),this.queryAPI=g,this.mutationAPI=m})))||c,v=(0,u.t)()(h=function(){function e(){(0,i.Z)(this,e),this.httpService=d.W.get(x)}return(0,n.Z)(e,[{key:"query",value:function(e,t){return t?this.httpService.queryAPI(e,t):this.httpService.queryAPI(e)}}]),e}())||h,p=r(982),y=r(721).V.injectEndpoints({endpoints:function(e){return{getQuestionList:e.query({query:function(e){var t=e.tag,r=e.page;return"/questions?tagged=".concat(t,"&pagesize=20&page=").concat(r,"&&site=stackoverflow")},transformResponse:function(e,t,r){return e.items},providesTags:function(e){return e?[].concat((0,p.Z)(e.map((function(e){return{type:"Questions",question_id:e.question_id}}))),[{type:"Questions",id:"LIST"}]):[{type:"Questions",id:"LIST"}]}}),getTagList:e.query({query:function(){return"/tags?pagesize=10&page=1&order=desc&sort=popular&site=stackoverflow"},transformResponse:function(e,t,r){return e.items},providesTags:function(e){return e?[].concat((0,p.Z)(e.map((function(e){return{type:"Tags",name:e.name}}))),[{type:"Tags",id:"LIST"}]):[{type:"Tags",id:"LIST"}]}})}}}),b=y.useGetQuestionListQuery,j=y.useGetTagListQuery,w=function(){function e(){(0,i.Z)(this,e),this.questionService=l.ZP.get(v),this.tagService=l.ZP.get(v)}return(0,n.Z)(e,[{key:"questions",value:function(e){return this.questionService.query(b,e)}},{key:"tags",value:function(){return this.tagService.query(j)}}]),e}(),k=r(184),S=function(e){var t=e.initValue,r=e.tagList,n=e.setTag,i=o.useState(""),s=(0,f.Z)(i,2),a=s[0],c=s[1],l=o.useState(r),u=(0,f.Z)(l,2),d=u[0],g=u[1];o.useEffect((function(){n(t)}),[]);var m;return o.useEffect((function(){var e=null===r||void 0===r?void 0:r.filter((function(e){return-1!==e.name.indexOf(a)}));g(e)}),[a]),m=(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("h3",{className:"inline-block mt-6 mb-2 text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Trending"}),(0,k.jsx)("ul",{className:"flex",children:null===d||void 0===d?void 0:d.map((function(e,t){return(0,k.jsx)("button",{className:"text-xs inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-blue-200 text-blue-700 rounded-full",onClick:(r=e.name,function(){c(r),n(r)}),children:e.name},"".concat(t,"-").concat(e.name));var r}))})]}),(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("input",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",type:"text",placeholder:"Tag",onChange:function(e){c(e.target.value)},value:a}),m]})},Z=function(e){var t=e.error;return(0,k.jsx)("div",{children:null===t||void 0===t?void 0:t.toString()})},N=r(205),L=r(763),q=r.n(L),E=r(87),T=function(e){var t=e.error;return(0,k.jsx)("div",{children:null===t||void 0===t?void 0:t.toString()})},_=function(e){var t,r=o.useState(1),n=(0,f.Z)(r,2),i=n[0],s=n[1],a=e.tag,c=e.model.questions({tag:a,page:i}),l=c.data,u=c.isLoading,d=(c.isFetching,c.isSuccess),g=c.isError,m=c.error,h=function(){Math.ceil(window.innerHeight+window.scrollY)>=document.documentElement.scrollHeight&&(s((function(e){return e+1})),console.log("at the bottom"))};return o.useEffect((function(){return window.addEventListener("scroll",q().throttle(h,1e4),{passive:!0}),function(){window.removeEventListener("scroll",h)}}),[]),u?t=(0,k.jsx)(N.g,{isLoading:!0}):d?t=(0,k.jsx)("ul",{className:"",children:l.map((function(e){return(0,k.jsx)("li",{children:(0,k.jsxs)("article",{className:"flex flex-col justify-between px-3 py-1 bg-white rounded-lg border border-gray-100 my-3",children:[(0,k.jsx)(E.rU,{to:"".concat(e.link),className:"flex text-2xl font-semibold text-gray-800 dark:text-gray-200",children:e.title}),(0,k.jsxs)("div",{className:"flex justify-between px-3 py-1 bg-white items-center my-3 w-full",children:[(0,k.jsxs)("div",{className:"flex relative",children:[(0,k.jsxs)("div",{className:"flex flex-col relative w-16 rounded-full items-center",children:[(0,k.jsx)("label",{htmlFor:"_score",children:"score"}),(0,k.jsx)("span",{className:"".concat(e.score<0?"text-red-500 font-bold":""),children:e.score})]}),(0,k.jsxs)("div",{className:"flex flex-col relative w-16 rounded-full items-center",children:[(0,k.jsx)("label",{htmlFor:"_score",children:"answer"}),(0,k.jsx)("span",{className:"w-full text-center ".concat(e.answer_count>1&&!e.is_answered?"border border-green-500 text-green-500":" text-white bg-green-500"),children:e.answer_count})]}),(0,k.jsxs)("div",{className:"flex flex-col relative w-16 rounded-full items-center",children:[(0,k.jsx)("label",{htmlFor:"_count",children:"count"}),(0,k.jsx)("span",{children:e.view_count})]})]}),(0,k.jsxs)("div",{className:"flex flex-col relative w-16 rounded-full items-center",children:[(0,k.jsx)("img",{className:"w-full h-full object-cover rounded-full",src:e.owner.profile_image,alt:"_profile_img"}),(0,k.jsx)("span",{className:"text-xs text-center mt-2",children:e.owner.display_name})]})]})]})},"".concat(e.question_id))}))}):g&&(t=(0,k.jsx)(T,{error:m})),(0,k.jsx)("div",{className:"",children:t})},F=function(e){var t,r=e.model,n=o.useState(""),i=(0,f.Z)(n,2),s=i[0],a=i[1],c=r.tags(),l=c.data,u=c.isLoading,d=(c.isFetching,c.isSuccess),g=c.isError,m=c.error;return u?(0,k.jsx)(N.g,{isLoading:!0}):d?t=(0,k.jsx)(S,{initValue:l[0].name,tagList:l,setTag:a}):g&&(0,k.jsx)(Z,{error:m}),(0,k.jsxs)("div",{className:"p-7",children:[t,(0,k.jsx)(_,{tag:s,model:r})]})},I=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).baseElement=function(){return(0,k.jsx)(F,{model:e.props.model})},e}return(0,n.Z)(r)}(function(e){var t=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).baseElement=void 0,e}return(0,n.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error(e)}},{key:"render",value:function(){return o.createElement(this.baseElement)}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),r}(o.PureComponent);return t.defaultProps=e,t}({model:new w})),P=I}}]);
//# sourceMappingURL=StackExchangePage.1534febf.chunk.js.map